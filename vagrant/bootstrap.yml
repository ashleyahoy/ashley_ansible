- name: Bootstrap a Vagrant
  become: true
  hosts: all
  tasks:

    - name: Alpine apk update
      community.general.apk:
        available: true
        upgrade: true
        update_cache: true
      when: ansible_distribution == 'Alpine'

    - name: openSUSE zypper update
      community.general.zypper:
        state: latest
        name: '*'
        update_cache: true
      when: ansible_distribution == 'openSUSE Tumbleweed'

    - name: Ubuntu, Debian and Linux Mint apt update
      apt:
        state: latest
        name: '*'
        update-cache: true
      when: ansible_distribution in ['Ubuntu', 'Debian', 'Linux Mint']

    - name: Rocky, CentOS, OracleLinux and Amazon yum update
      package:
        state: latest
        name: '*'
        update_cache: true
      when: ansible_distribution in ['Rocky', 'CentOS', 'Amazon', 'OracleLinux']
